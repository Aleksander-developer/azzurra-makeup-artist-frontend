<!-- src/app/pages/portfolio/portfolio-detail/portfolio-detail.component.html -->
<section class="portfolio-detail-container">
  <button mat-icon-button class="back-button" routerLink="/portfolio">
    <mat-icon>arrow_back</mat-icon>
  </button>

  <div *ngIf="isLoading" class="loading-spinner">
    <mat-spinner></mat-spinner>
    <p>Caricamento dettagli portfolio...</p>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    <mat-icon>error_outline</mat-icon> {{ errorMessage }}
  </div>

  <div *ngIf="portfolioItem && !isLoading" class="portfolio-content">
    <h1 class="item-title">{{ portfolioItem.title }}</h1>
    <h2 class="item-subtitle">{{ portfolioItem.subtitle }}</h2>
    <p class="item-category">Categoria: {{ portfolioItem.category }}</p>
    <p class="item-description">{{ portfolioItem.description }}</p>

    <!-- **MODIFICATO:** Sezione per visualizzare TUTTE le immagini -->
    <div class="image-gallery">
      <div *ngFor="let image of portfolioItem.images" class="gallery-image-item">
        <img [src]="image.src || 'assets/placeholder.jpg'" [alt]="image.alt || portfolioItem.title" class="gallery-image" onerror="this.src='assets/placeholder.jpg'">
        <p *ngIf="image.description" class="image-description">{{ image.description }}</p>
      </div>
    </div>

    <div class="item-dates">
      <p>Creato il: {{ portfolioItem.createdAt | date:'shortDate' }}</p>
      <p>Ultimo aggiornamento: {{ portfolioItem.updatedAt | date:'shortDate' }}</p>
    </div>
  </div>

  <div *ngIf="!portfolioItem && !isLoading && !errorMessage" class="no-item-found">
    <mat-icon>sentiment_dissatisfied</mat-icon> Elemento portfolio non trovato.
  </div>
</section>
