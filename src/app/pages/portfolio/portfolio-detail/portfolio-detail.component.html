<!-- src/app/pages/portfolio/portfolio-detail/portfolio-detail.component.html -->
<section class="portfolio-detail-container">
  <div *ngIf="isLoading" class="loading-spinner">
    <mat-spinner [diameter]="50"></mat-spinner>
    <p>Caricamento dettagli...</p>
  </div>

  <div *ngIf="!isLoading && !portfolioItem" class="no-item-found">
    <mat-icon>sentiment_dissatisfied</mat-icon>
    <h2>Lavoro non trovato!</h2>
    <p>Spiacenti, il lavoro che stai cercando non esiste o Ã¨ stato rimosso.</p>
    <button mat-raised-button color="primary" routerLink="/portfolio">Torna al Portfolio</button>
  </div>

  <mat-card *ngIf="!isLoading && portfolioItem" class="detail-card">
    <mat-card-header>
      <mat-card-title class="detail-title">{{ portfolioItem.title }}</mat-card-title>
      <mat-card-subtitle class="detail-subtitle">{{ portfolioItem.subtitle }}</mat-card-subtitle>
    </mat-card-header>
    <img mat-card-image [src]="portfolioItem.mainImage" [alt]="portfolioItem.title" onerror="this.onerror=null;this.src='https://placehold.co/1200x800/E6E6FA/4A2A4A?text=Immagine+non+disponibile';" />
    <mat-card-content>
      <p class="detail-description">{{ portfolioItem.description }}</p>
      <span class="detail-category">{{ portfolioItem.category }}</span>

      <div class="gallery-section" *ngIf="portfolioItem.images && portfolioItem.images.length > 0">
        <h3>Galleria Immagini</h3>
        <div class="image-gallery">
          <div *ngFor="let img of portfolioItem.images" class="gallery-item">
            <img [src]="img.src" [alt]="img.alt || 'Immagine di galleria'" onerror="this.onerror=null;this.src='https://placehold.co/800x600/F8C8DC/4A2A4A?text=Immagine+non+disponibile';" />
            <p *ngIf="img.description" class="gallery-description">{{ img.description }}</p>
          </div>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions align="end">
      <button mat-raised-button color="accent" routerLink="/portfolio">
        <mat-icon>arrow_back</mat-icon> Torna al Portfolio
      </button>
    </mat-card-actions>
  </mat-card>
</section>
